humhub.module("tour",function(o,t,e){var r,n,i=t("client"),d=function(t){r=t.tourId,n=t.nextUrl;let e=window.driver.js.driver,i=e({...o.config.driverJsOptions,...t.driverJs,onDestroyStarted(){if(!i.hasNextStep()){let o=""!==n&&null!=n;l(o)}i.destroy()}});i.drive()};function l(t){i.post(o.config.completedUrl,{data:{tour_id:r}}).then(function(){e("#tour-panel-"+o.config.dashboardTourId).addClass("completed"),!0===t&&n?window.location.href=n:window.location.href=o.config.dashboardUrl})}var a=function(){l(!0)},s=function(o){e(".panel-tour").slideToggle("slow"),i.post(o)};o.export({start:d,next:a,hidePanel:s})});
